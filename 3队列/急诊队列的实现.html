<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <script type="text/javascript">
  function Queue(){
    this.dataStore=[];
    this.enqueue = enqueue; //向对尾增加一个元素
    this.dequeue = dequeue;
    this.front = front;
    this.back = back;
    this.toString = toString;
    this.empty = empty;
  }


      //进队列
    function  enqueue(el){
       this.dataStore.push(el);
    }



    function front(){
      return this.dataStore[0];
    }

     function  back(){
      return this.dataStore[this.dataStore.length-1];
    }



    function empty(){
      if (this.dataStore.length==0) {
        return true;
      }else {
        return false;
      }
    }

    function Patient(name,code){
      this.name= name;
      this.code= code;
    }

    //出队列  急诊案例 有人病重 优先治疗
    function dequeue(){
      var priority=0;
      for (var i = 1; i < this.dataStore.length; i++) {
         if (this.dataStore[i].code>this.dataStore[priority].code) {
           priority=i;
         }
      }
      // console.log("priority===>",priority, this.dataStore.splice(priority,1));
      return  this.dataStore.splice(priority,1);
    }

    function toString(){
       var reStr="";
       for (var i = 0; i < this.dataStore.length; i++) {
         reStr += this.dataStore[i].name+" code:"+ this.dataStore[i].code+"\n";
       }
       return reStr;
    }

    var pa1 = new Patient("aa",1);
    var pa2 = new Patient("bb",1);
    var pa3 = new Patient("cc",5);
    var pa4 = new Patient("dd",1);

    var quePatient = new Queue();
    quePatient.enqueue(pa1);
    quePatient.enqueue(pa2);
    quePatient.enqueue(pa3);
    quePatient.enqueue(pa4);

    console.log("全部----》"+quePatient.toString());

   console.log("第一个被治疗的病患---》"+quePatient.dequeue()[0].name);  //splice 返回数组

     console.log("剩余的----》"+quePatient.toString());
  </script>
</body>
</html>
